{"ast":null,"code":"import _slicedToArray from\"/Users/imadeldine/Desktop/imadeldine.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback,useEffect}from\"react\";import Search from\"../../components/Search/Search\";import Card from\"../../components/Card/Card\";import{Box}from\"@mui/material\";import{debounce}from\"lodash\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchFeild=function SearchFeild(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),books=_useState4[0],setBooks=_useState4[1];var handleSearch=function handleSearch(e){setSearch(e.target.value);if(e.target.value===\"\"){setBooks([]);return;}delaySearch(e.target.value);};var delaySearch=useCallback(debounce(function(e){return getBooks(e);},200),[search]);var getBooks=function getBooks(e){fetch(\"https://www.googleapis.com/books/v1/volumes?q=inauthor:\".concat(e,\"&orderBy=newest&download=epub&filter=free-ebooks\")).then(function(res){return res.json();}).then(function(data){setBooks(data.items);console.log(data);});};useEffect(function(){var LastSearch=localStorage.getItem(\"lastsearch\");if(LastSearch){setSearch(LastSearch);getBooks(LastSearch);}},[]);return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Search,{value:search,onChange:handleSearch}),/*#__PURE__*/_jsx(Card,{books:books,search:search})]});};export default SearchFeild;","map":{"version":3,"names":["React","useState","useCallback","useEffect","Search","Card","Box","debounce","SearchFeild","search","setSearch","books","setBooks","handleSearch","e","target","value","delaySearch","getBooks","fetch","then","res","json","data","items","console","log","LastSearch","localStorage","getItem"],"sources":["/Users/imadeldine/Desktop/imadeldine.github.io/src/pages/SearchFeild/SearchFeild.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport Search from \"../../components/Search/Search\";\nimport Card from \"../../components/Card/Card\";\nimport { Box } from \"@mui/material\";\nimport { debounce } from \"lodash\";\n\nconst SearchFeild = () => {\n  const [search, setSearch] = useState(\"\");\n  const [books, setBooks] = useState([]);\n\n  const handleSearch = (e) => {\n    setSearch(e.target.value);\n    if (e.target.value === \"\") {\n      setBooks([]);\n      return;\n    }\n    delaySearch(e.target.value);\n  };\n\n  const delaySearch = useCallback(\n    debounce((e) => getBooks(e), 200),\n\n    [search]\n  );\n\n  const getBooks = (e) => {\n    fetch(\n      `https://www.googleapis.com/books/v1/volumes?q=inauthor:${e}&orderBy=newest&download=epub&filter=free-ebooks`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        setBooks(data.items);\n        console.log(data);\n      });\n  };\n\n  useEffect(() => {\n    const LastSearch = localStorage.getItem(\"lastsearch\");\n    if (LastSearch) {\n      setSearch(LastSearch);\n      getBooks(LastSearch);\n    }\n  }, []);\n\n  return (\n    <Box>\n      <Search value={search} onChange={handleSearch} />\n      <Card books={books} search={search} />\n    </Box>\n  );\n};\n\nexport default SearchFeild;\n"],"mappings":"oIAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAQ,OAAO,CAC/D,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAOC,KAAI,KAAM,4BAA4B,CAC7C,OAASC,GAAG,KAAQ,eAAe,CACnC,OAASC,QAAQ,KAAQ,QAAQ,CAAC,wFAElC,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,cAA4BP,QAAQ,CAAC,EAAE,CAAC,wCAAjCQ,MAAM,eAAEC,SAAS,eACxB,eAA0BT,QAAQ,CAAC,EAAE,CAAC,yCAA/BU,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1BJ,SAAS,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACzB,GAAIF,CAAC,CAACC,MAAM,CAACC,KAAK,GAAK,EAAE,CAAE,CACzBJ,QAAQ,CAAC,EAAE,CAAC,CACZ,OACF,CACAK,WAAW,CAACH,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC7B,CAAC,CAED,GAAMC,YAAW,CAAGf,WAAW,CAC7BK,QAAQ,CAAC,SAACO,CAAC,QAAKI,SAAQ,CAACJ,CAAC,CAAC,GAAE,GAAG,CAAC,CAEjC,CAACL,MAAM,CAAC,CACT,CAED,GAAMS,SAAQ,CAAG,QAAXA,SAAQ,CAAIJ,CAAC,CAAK,CACtBK,KAAK,kEACuDL,CAAC,qDAC5D,CACEM,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdX,QAAQ,CAACW,IAAI,CAACC,KAAK,CAAC,CACpBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAEDpB,SAAS,CAAC,UAAM,CACd,GAAMwB,WAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CACrD,GAAIF,UAAU,CAAE,CACdjB,SAAS,CAACiB,UAAU,CAAC,CACrBT,QAAQ,CAACS,UAAU,CAAC,CACtB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,MAAC,GAAG,yBACF,KAAC,MAAM,EAAC,KAAK,CAAElB,MAAO,CAAC,QAAQ,CAAEI,YAAa,EAAG,cACjD,KAAC,IAAI,EAAC,KAAK,CAAEF,KAAM,CAAC,MAAM,CAAEF,MAAO,EAAG,GAClC,CAEV,CAAC,CAED,cAAeD,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}